(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"2lVO":function(t,e,i){"use strict";i.r(e);var s=i("lwsE"),n=i.n(s),o=i("W8MJ"),a=i.n(o),h=i("a1gu"),r=i.n(h),l=i("Nsbk"),c=i.n(l),u=i("iWIM"),v=i.n(u),d=i("7W2i"),p=i.n(d),w=i("Xe5c"),g=i("RIqP"),m=i.n(g),f=i("kdZZ"),y=i("v0rQ"),x=i.n(y),k=i("QbYY"),C=i("F7I5"),S=i("zqjx"),I=function(t){function s(t){var e;n()(this,s),(e=r()(this,c()(s).call(this,t))).template=x.a;var i=S.a.getState().app.deviceType;return e.isTouch="mobile"===i||"tablet"===i,e.events={"mouseenter .titles-container ul li":function(t){return e.onLinkEnter(t)},"mouseleave .titles-container ul li":function(t){return e.onLinkLeave(t)}},e}return p()(s,t),a()(s,[{key:"initTL",value:function(){var t=this;this.TL.show=new C.gsap.timeline({paused:!0,onComplete:function(){return t.onShown()}}),this.TL.show.set(this.el,{autoAlpha:1,ease:Cubic.easeOut},0),this.TL.show.to(this.$images[0],1,{opacity:1,ease:Power2.easeOut},0),this.TL.show.call(function(){t.isTouch||Object(k.a)(m()(t.el.querySelectorAll(".photo-item img")))},null,.6),this.TL.show.staggerTo(this.$linksATag,.8,{opacity:".3",ease:Power3.easeOut},.015,0),this.TL.hide=new C.gsap.timeline({paused:!0,onComplete:function(){return t.onHidden()}}),this.TL.hide.to(this.el,.3,{autoAlpha:0,ease:Cubic.easeOut})}},{key:"initDOM",value:function(){var n=this;if(this.$links=this.el.querySelectorAll(".titles-container ul li"),this.$linksATag=this.el.querySelectorAll(".titles-container ul li a"),this.$images=this.el.querySelectorAll(".images-container .photo-item"),this.$imagesWrappers=this.el.querySelectorAll(".images-container .image-wrapper"),!this.isTouch){this.tlHover=C.gsap.timeline({repeat:-1,paused:!0});var o=.75;m()(this.$images).forEach(function(t,e){var i=n.$links[e].querySelector("a"),s=n.$links[e].querySelector("span");n.tlHover.addLabel("item"+e,e*o+.15),n.tlHover.to(t,.1,{opacity:1},e*o),n.tlHover.to(i,.1,{opacity:1},e*o),n.tlHover.to(s,.1,{opacity:1},e*o),n.tlHover.to(t,.1,{opacity:0},e*o+o),n.tlHover.to(i,.1,{opacity:.3},e*o+o),n.tlHover.to(s,.1,{opacity:0},e*o+o)}),this.tlHover.seek(0)}}},{key:"setupDOM",value:function(){C.gsap.set(this.$linksATag,{opacity:0})}},{key:"onLinkEnter",value:function(t){var e=t.currentTarget,i=m()(this.$links).indexOf(e);this.tlHover&&this.states.isShown&&(this.tweenHover=this.tlHover.pause(),this.tweenHover=this.tlHover.seek("item"+i))}},{key:"onLinkLeave",value:function(t){this.tlHover&&this.states.isShown&&this.tlHover.resume()}},{key:"onShown",value:function(){this.isTouch||this.tlHover.play(),v()(c()(s.prototype),"onShown",this).call(this)}},{key:"onDOMInit",value:function(){v()(c()(s.prototype),"onDOMInit",this).call(this)}},{key:"dispose",value:function(){this.tlHover&&this.tlHover.kill(),v()(c()(s.prototype),"dispose",this).call(this)}}]),s}(f.a),b=function(t){function i(t){var e;return n()(this,i),(e=r()(this,c()(i).call(this,t))).ComponentClass=I,e}return p()(i,t),a()(i,[{key:"initData",value:function(){v()(c()(i.prototype),"initData",this).call(this)}}]),i}(w.a);e.default=b},"9kQC":function(t,e,i){var a=i("NVNq");t.exports=function(t){"use strict";var s="",e=(t=t||{}).length,i=t.data,n=a.$escape,o=a.$each;t.$value,t.$index,t.image;s+='<section class="page-wrapper page" id="detail">\n  ';e=i.photos1.length;if(s+="\n  ",e<=10){s+="\n  ";e=i.photos1.length;s+="\n  "}return s+='\n  <div class="detail-title-wrapper">\n    <h1 class="detail-title">',s+=n(i.collection_title[0].text),s+='</h1>\n  </div>\n  <div class="photos-container">\n\n    <div class="cursor"><span class="cursor--number">1</span> <span class="cursor--of">of</span> <span\n        class="cursor--length">',s+=n(e),s+="</span>\n    </div>\n\n    ",o(i.photos1,function(t,e){s+="\n    ";var i=t;s+='\n    <div class="photo-wrapper">\n      <div class="photo-item" data-width="',s+=n(i.dimensions.width),s+='" data-height="',s+=n(i.dimensions.height),s+='"\n        ',i.backgroundColor&&(s+='style="background-color:',s+=n(i.backgroundColor)),s+='\n\t\t\t" ',i.image_max_width&&(s+='data-max-width="',s+=n(i.image_max_width),s+='" '),s+='>\n        <img data-src="',s+=n(i.url),s+='" data-srcset="\n\t\t\t\t\t\t',s+=n(i.url),s+="?format&w=250 250w,\n\t\t\t\t\t\t",s+=n(i.url),s+="?format&w=500 500w,\n\t\t\t\t\t\t",s+=n(i.url),s+="?format&w=750 750w,\n\t\t\t\t\t\t",s+=n(i.url),s+="?format&w=1000 1000w,\n\t\t\t\t\t\t",s+=n(i.url),s+="?format&w=1250 1250w,\n\t\t\t\t\t\t",s+=n(i.url),s+="?format&w=1500 1500w,\n\t\t\t\t\t\t",s+=n(i.url),s+="?format&w=1750 1750w,\n\t\t\t\t\t\t",s+=n(i.url),s+="?format&w=2000 2000w,\n\t\t\t\t\t\t",s+=n(i.url),s+="?format&w=2250 2250w,\n\t\t\t\t\t\t",s+=n(i.url),s+='?format&w=2500 2500w\n          " alt="',s+=n(i.alt),s+='">\n        ',i.video&&(s+='\n        <video playsinline autobuffer muted loop preload="auto">\n          <source src="',s+=n(i.video),s+='" type="video/mp4">\n        </video>\n        '),s+="\n      </div>\n    </div>\n    "}),s+='\n    <div class="next-container">\n      <div class="next-title-wrapper">\n        <h2 class="next-title"><a href="',s+=n(i.next.url),s+='">',s+=n(i.next.title),s+='</a></h2>\n      </div>\n      <div class="next-canvas-wrapper">\n        <img data-src="',s+=n(i.next.cover.url),s+='" data-srcset="\n\t\t\t\t\t',s+=n(i.next.cover.url),s+="?format&w=250 250w,\n\t\t\t\t\t",s+=n(i.next.cover.url),s+="?format&w=500 500w,\n\t\t\t\t\t",s+=n(i.next.cover.url),s+="?format&w=750 750w,\n\t\t\t\t\t",s+=n(i.next.cover.url),s+="?format&w=1000 1000w,\n\t\t\t\t\t",s+=n(i.next.cover.url),s+="?format&w=1250 1250w,\n\t\t\t\t\t",s+=n(i.next.cover.url),s+='?format&w=1500 1500w,\n\t\t\t\t" alt="" data-sizes="50vw">\n      </div>\n    </div>\n  </div>\n\n  <nav class="detail-navigation-overview">\n    <button>Overview</button>\n  </nav>\n</section>'}},"C7+y":function(t,e,i){"use strict";var s=i("lwsE"),n=i.n(s),o=i("W8MJ"),a=i.n(o),h=i("a1gu"),r=i.n(h),l=i("Nsbk"),c=i.n(l),u=i("7W2i"),v=i.n(u),d=i("2+8n"),p=(Math.PI,function(t){function i(t){var e;return n()(this,i),(e=r()(this,c()(i).call(this,t))).posX=0,e.posY=0,e.veloX=0,e.veloY=0,e.accelX=0,e.accelY=0,e.posXOf=0,e.posYOf=0,e.veloXOf=0,e.veloYOf=0,e.accelXOf=0,e.accelYOf=0,e.posXLength=0,e.posYLength=0,e.veloXLength=0,e.veloYLength=0,e.accelXLength=0,e.accelYLength=0,e.detailCursor=t.detailCursor,e.detailCursor&&(e.elNumber=e.el.querySelector(".cursor--number"),e.elOf=e.el.querySelector(".cursor--of"),e.elLength=e.el.querySelector(".cursor--length")),e}return v()(i,t),a()(i,[{key:"set",value:function(t,e){this.posX=t,this.posY=e,this.detailCursor&&(this.posXOf=t,this.posYOf=e,this.posXLength=t,this.posYLength=e)}},{key:"update",value:function(t,e){this.detailCursor?(this.accelX=.1*(t-this.posX),this.accelY=.1*(e-this.posY),Math.abs(t-this.posX)<=.001&&(this.posX=t),Math.abs(e-this.posY)<=.001&&(this.posY=e),this.veloX+=this.accelX,this.veloY+=this.accelY,this.veloX*=.65,this.veloY*=.65,this.posX+=this.veloX,this.posY+=this.veloY,this.elNumber.style.transform="translate3d(".concat(this.posX,"px,").concat(this.posY,"px, 0px)"),this.accelXOf=.09*(t-this.posXOf),this.accelYOf=.09*(e-this.posYOf),Math.abs(t-this.posXOf)<=.001&&(this.posXOf=t),Math.abs(e-this.posYOf)<=.001&&(this.posYOf=e),this.veloXOf+=this.accelXOf,this.veloYOf+=this.accelYOf,this.veloXOf*=.675,this.veloYOf*=.675,this.posXOf+=this.veloXOf,this.posYOf+=this.veloYOf,this.elOf.style.transform="translate3d(".concat(this.posXOf,"px,").concat(this.posYOf,"px, 0px)"),this.accelXLength=.08*(t-this.posXLength),this.accelYLength=.08*(e-this.posYLength),Math.abs(t-this.posXLength)<=.001&&(this.posXLength=t),Math.abs(e-this.posYLength)<=.001&&(this.posYLength=e),this.veloXLength+=this.accelXLength,this.veloYLength+=this.accelYLength,this.veloXLength*=.7,this.veloYLength*=.7,this.posXLength+=this.veloXLength,this.posYLength+=this.veloYLength,this.elLength.style.transform="translate3d(".concat(this.posXLength,"px,").concat(this.posYLength,"px, 0px)")):(this.accelX=.1*(t-this.posX),this.accelY=.1*(e-this.posY),Math.abs(t-this.posX)<=.001&&(this.posX=t),Math.abs(e-this.posY)<=.001&&(this.posY=e),this.veloX+=this.accelX,this.veloY+=this.accelY,this.veloX*=.65,this.veloY*=.65,this.posX+=this.veloX,this.posY+=this.veloY,this.el.style.transform="translate3d(".concat(this.posX,"px,").concat(this.posY,"px, 0px)"))}}]),i}(d.a));e.a=p},TqsI:function(t,e,i){"use strict";var s=new function(){var e=this;this.x=-1,this.y=-1,this.isMouseActive=!1,this.handlersOnMouseMove=function(t){e.x=t.clientX,e.y=t.clientY,e.isMouseActive||(e.isMouseActive=!0)},this.start=function(){e.isMouseActive||document.addEventListener("mousemove",e.handlersOnMouseMove)}};e.a=s},rQgB:function(t,e,i){"use strict";i.r(e);var s=i("lwsE"),n=i.n(s),o=i("W8MJ"),h=i.n(o),a=i("a1gu"),r=i.n(a),l=i("Nsbk"),c=i.n(l),u=i("iWIM"),v=i.n(u),d=i("7W2i"),p=i.n(d),w=i("Xe5c"),g=i("RIqP"),m=i.n(g),f=i("kdZZ"),y=i("9kQC"),x=i.n(y),k=i("zqjx"),C=i("kSqo"),S=i("C7+y"),I=i("TqsI"),b=i("2+8n"),$=i("F7I5");function L(t,e,i){return Math.abs(e-t)<=.001&&(t=e),t*(1-i)+e*i}var H=function(t){function s(t){var e;return n()(this,s),(e=r()(this,c()(s).call(this,t))).isRetina=2<=window.devicePixelRatio,e.images=t.images,e.title=t.title,e.onOverviewHiddenCallback=t.onHiddenCallback,e.onHideCallback=t.onHideCallback,e.onItemClickedCallback=t.onItemClickedCallback,e.originalrowHeight=400,e.rowHeight=400,e.columnsLength=6,e.events={click:function(){return e.closeOverview()}},e}return p()(s,t),h()(s,[{key:"initDOM",value:function(){this.$collectionName=this.el.querySelector("header .collection-name"),this.$wrapper=this.el.querySelector(".overview-canvas-wrapper"),this.$background=this.el.querySelector(".overview-background"),this.$collectionName.textContent=this.title}},{key:"initTL",value:function(){var s=this;this.TL.show=new $.gsap.timeline({paused:!0,onComplete:function(){return s.onShown()}}),this.TL.show.fromTo(this.$wrapper,{y:window.innerHeight,ease:Power4.easeInOut},{duration:1.2,y:0,ease:Power4.easeInOut}),this.TL.show.to(this.$background,{opacity:1,duration:1,ease:Power4.easeInOut},0);for(var t=function(t){var e=s.overviewItems[t],i=14<s.overviewItems.length?.035:.05;s.TL.show.to(e,{opacity:1,duration:.6,delay:.5+i*t,ease:Power4.easeInOut,onComplete:function(){e.isShown=!0}},0)},e=0;e<this.overviewItems.length;e++)t(e);this.TL.hide=new $.gsap.timeline({paused:!0,onComplete:function(){return s.onHidden()}}),this.TL.hide.to(this.$wrapper,{duration:1,y:window.innerHeight,ease:Power4.easeInOut},0),this.TL.hide.to(this.$background,{opacity:0,duration:1,ease:Power4.easeInOut},0)}},{key:"onInit",value:function(){var i=this;18<=this.images.length&&(this.columnsLength=7),this.overviewItems=this.images.map(function(t,e){return i.createImageGridItem(t,e)}),this.defineWidestItems(),this.initCanvas(),v()(c()(s.prototype),"onInit",this).call(this)}},{key:"show",value:function(){return!this.states.isAnimating&&v()(c()(s.prototype),"show",this).call(this)}},{key:"showComponent",value:function(){var t=this;setTimeout(function(){t.TL.show.play(0)},0),this.el.style.display="block",this.el.style.opacity=1}},{key:"onShown",value:function(){this.loadTexturesCanvas(this.overviewItems).then(function(){}),v()(c()(s.prototype),"onShown",this).call(this)}},{key:"hide",value:function(){return!this.states.isAnimating&&(this.onHideCallback(),v()(c()(s.prototype),"hide",this).call(this))}},{key:"hideComponent",value:function(){var t=this;setTimeout(function(){t.TL.hide.play(0)},0)}},{key:"onHidden",value:function(){this.el.style.display="none",this.resetItems(),this.onOverviewHiddenCallback(),v()(c()(s.prototype),"onHidden",this).call(this)}},{key:"initCanvas",value:function(){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.context.canvas.width=window.innerWidth,this.context.canvas.height=window.innerHeight,this.el.querySelector(".overview-canvas-wrapper").appendChild(this.canvas)}},{key:"loadTexturesCanvas",value:function(s){return new Promise(function(t,e){var i=[];s.forEach(function(s,n){var t=new Promise(function(t,e){var i=new Image;i.onload=function(){s.isLoaded=!0,s.filterTween=$.gsap.to(s,{opacityBgColor:0,duration:.6,delay:.05*n,ease:Cubic.easeInOut,onComplete:function(){s.isFaded=!0}})},i.src=s.source,s.image=i});i.push(t)}),Promise.all(i).then(function(){t()})})}},{key:"createImageGridItem",value:function(t,e){var i=t.url+"?format&w=830&h=685",s=685/t.dimensions.height;return t.dimensions.width>t.dimensions.height&&(s=830/t.dimensions.width),{isLoaded:!1,isFaded:!1,isShown:!1,source:i,initialWidth:t.dimensions.width*s,initialHeight:t.dimensions.height*s,isWidestItem:!1,type:t.dimensions.width>t.dimensions.height?"large":"long",opacity:0,opacityBgColor:1,index:e,backgroundColor:t.backgroundColor||"#"+(16777216+16777215*Math.random()).toString(16).substr(1,6),x:0,y:0,width:0,height:0,hover:!1,lerpedScale:.4,lerpedY:0}}},{key:"detectCurrentItem",value:function(){for(var t=I.a.x,e=I.a.y,i=0;i<this.overviewItems.length;i++){var s=this.overviewItems[i],n=s.width+10,o=s.height,a=s.x,h=s.lerpedY;s.width,s.height;s.hover=a<=t&&t<=a+n&&h<=e&&e<=h+o}}},{key:"calculateItemPositions",value:function(){for(var t=0,e=0,i=0,s=!1,n=this.columnsLength,o=Math.ceil(this.overviewItems.length/n),a=0;a<o;a++){s&&0<a?i=1*this.rowHeight+10:0<a&&(i=.5*this.rowHeight+10),s=!1,e+=i;for(var h=i=t=0;h<n;h++){var r=n*a+h;if(r<this.overviewItems.length){var l=this.overviewItems[r],c=l.hover?1:.5;l.lerpedScale=L(l.lerpedScale,c,.12),l.height=this.rowHeight*l.lerpedScale,l.hover&&(s=!0),l.width=l.initialWidth/l.initialHeight*l.height,l.x=t+20,l.y=100+e,l.lerpedY=L(l.lerpedY,l.y,.12),t+=l.width+10}}}}},{key:"drawItems",value:function(){for(var t=0;t<this.overviewItems.length;t++){var e=this.overviewItems[t];e.isLoaded&&this.context.drawImage(e.image,e.x,e.lerpedY,e.width,e.height),!1===e.isFaded&&(this.context.fillStyle=e.backgroundColor,this.context.beginPath(),e.isShown?this.context.globalAlpha=e.opacityBgColor:this.context.globalAlpha=e.opacity,this.context.rect(e.x-1,e.lerpedY-1,e.width+2,e.height+2),this.context.fill(),this.context.globalAlpha=1)}}},{key:"update",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.detectCurrentItem(),this.calculateItemPositions(),this.drawItems()}},{key:"closeOverview",value:function(){this.hide();for(var t=null,e=0;e<this.overviewItems.length;e++){var i=this.overviewItems[e];i.hover&&(t=i)}t&&this.onItemClickedCallback(t.index)}},{key:"resetItems",value:function(){for(var t=0;t<this.overviewItems.length;t++){var e=this.overviewItems[t];e.filterTween&&e.filterTween.kill(),e.isShown=!1,e.isLoaded=!1,e.isFaded=!1,e.opacityBgColor=1,e.x=0,e.y=0,e.width=0,e.height=0,e.hover=!1,e.lerpedScale=.4,e.lerpedY=0}}},{key:"makeSureRowFit",value:function(){for(var t=0,e=0,i=this.columnsLength,s=Math.ceil(this.overviewItems.length/i),n=0;n<s;n++){for(var o=e=0;o<i;o++){var a=i*n+o;if(a<this.overviewItems.length){var h=this.overviewItems[a],r=h.isWidestItem?1:.5,l=this.originalrowHeight*r;e+=10+h.initialWidth/h.initialHeight*l}}t<e&&(t=e)}if(t>this.width-40){var c=(this.width-40)/t;this.rowHeight=this.originalrowHeight*c}else this.rowHeight=this.originalrowHeight}},{key:"defineWidestItems",value:function(){for(var t=this.columnsLength,e=Math.ceil(this.overviewItems.length/t),i=0;i<e;i++){for(var s=0,n=null,o=0;o<t;o++){var a=t*i+o;if(a<this.overviewItems.length){var h=this.overviewItems[a];h.initialWidth>=s&&(s=h.initialWidth,n=h)}}n.isWidestItem=!0}}},{key:"resize",value:function(t,e){this.width=t,this.height=e,this.canvas&&(this.isRetina?(this.canvas.width=2*this.width,this.canvas.height=2*this.height,this.context.scale(2,2)):(this.canvas.width=this.width,this.canvas.height=this.height),this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px",this.makeSureRowFit())}},{key:"dispose",value:function(){this.overviewItems=[],this.el.style.display="none",this.$background.style.opacity=0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.setState({isInit:!1,isShown:!1,canUpdate:!1}),this.unbindEvents(),this.handlers={},this.promises={},this.destroyTL(),this.el=null,this._events={},this.unsubscribe()}}]),s}(b.a);var T=function(t){function i(t){var e;return n()(this,i),(e=r()(this,c()(i).call(this,t))).isRetina=2<=window.devicePixelRatio,e.image=t.image,e.mouse={x:0,y:0},e.width=t.width,e.height=t.height,e.windowWidth=t.windowWidth,e.windowHeight=t.windowHeight,e}return p()(i,t),h()(i,[{key:"onInit",value:function(){this.nextItem=this.createImageGridItem(this.image),this.initCanvas(),this.loadTexturesCanvas([this.nextItem]).then(function(){}),v()(c()(i.prototype),"onInit",this).call(this)}},{key:"initCanvas",value:function(){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.context.canvas.width=this.width,this.context.canvas.height=this.height,this.el.querySelector(".next-canvas-wrapper").appendChild(this.canvas)}},{key:"loadTexturesCanvas",value:function(s){return new Promise(function(t,e){var i=[];s.forEach(function(s,t){var e=new Promise(function(t,e){var i=new Image;i.onload=function(){s.isLoaded=!0},i.src=s.source,s.image=i});i.push(e)}),Promise.all(i).then(function(){t()})})}},{key:"createImageGridItem",value:function(t){var e=t.url+"?format&w=600&h=400",i=685/t.dimensions.height;return t.dimensions.width>t.dimensions.height&&(i=830/t.dimensions.width),{isLoaded:!1,source:e,initialWidth:t.dimensions.width*i,initialHeight:t.dimensions.height*i,type:t.dimensions.width>t.dimensions.height?"large":"long",x:.5*this.windowWidth,y:.5*this.windowHeight,width:0,height:0,lerpedScale:0}}},{key:"renderImageCanvas",value:function(t){if(!t.isLoaded)return!1;var e=.5*this.width,i=.5*this.height,s=t.initialWidth*t.lerpedScale,n=t.initialHeight*t.lerpedScale;this.context.translate(e,i),this.context.translate(-s/2,-n/2),this.context.drawImage(t.image,0,0,s,n),this.context.setTransform(1,0,0,1,0,0)}},{key:"update",value:function(t,e){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);var i=this.nextItem,s=this.distance(i.x,i.y,t,e),n=.3+(.7-.7*(Math.min(300,Math.abs(s))/300));i.lerpedScale=function(t,e,i){return Math.abs(e-t)<=.01&&(t=e),t*(1-i)+e*i}(i.lerpedScale,.5*n,.12),this.renderImageCanvas(i)}},{key:"distance",value:function(t,e,i,s){return Math.sqrt(Math.pow(t-i,2)+Math.pow(e-s,2))}},{key:"getItemHeight",value:function(){return this.nextItem.initialHeight*this.nextItem.lerpedScale}},{key:"resize",value:function(t,e){this.windowWidth=t,this.windowHeight=e;var i=k.a.getState().app.isAnimating;this.canvas&&!i&&(this.isRetina?(this.canvas.width=1660,this.canvas.height=1370):(this.canvas.width=830,this.canvas.height=685),this.canvas.style.width="830px",this.canvas.style.height="685px")}}]),i}(b.a),O=i("QbYY"),Y=100,X=function(t){function a(t){var e;n()(this,a),(e=r()(this,c()(a).call(this,t))).template=x.a;var i=k.a.getState().app.deviceType;return e.isTouch="mobile"===i||"tablet"===i,e.isTouch&&(Y=0),e.windowWidth=0,e.windowHeight=0,e.mouse={x:I.a.x,y:I.a.y},e.isTouch||I.a.start(),e.storeEvents={browser:function(t){return e.onResize(t)}},e.events={"click .detail-navigation-overview button":function(){return e.onOverviewButtonClicked()},"click .photos-container":function(t){return e.onPhotoWrapperClicked(t)}},e.currentIndex=0,e.states={overviewActive:!1,nextActive:!1,cursorActive:!1},e}return p()(a,t),h()(a,[{key:"initDOM",value:function(){this.$photosContainer=this.el.querySelector(".photos-container"),this.$photoWrapper=this.el.querySelectorAll(".photo-wrapper"),this.$photos=this.el.querySelectorAll(".photo-item"),this.photosItem=m()(this.$photos).map(function(t){return{$photo:t,$video:t.querySelector("video")}}),this.$images=this.el.querySelectorAll(".photo-item img"),this.photosLength=this.$photos.length,this.photosLength<10&&(this.photosLength="0"+this.photosLength),this.$nextEl=this.el.querySelector(".next-container"),this.$nextTitle=this.el.querySelector(".next-title"),this.$nextCanvas=this.el.querySelector(".next-canvas-wrapper canvas"),this.isTouch&&(this.$nextCanvas=this.el.querySelector(".next-canvas-wrapper img")),this.$nextImage=this.el.querySelector(".next-canvas-wrapper img"),this.$title=this.el.querySelector(".detail-title"),this.$cursorEl=this.el.querySelector(".cursor"),this.$cursorNumber=this.el.querySelector(".cursor .cursor--number"),this.$overviewContainer=this.el.querySelector(".detail-navigation-overview"),this.onResize(k.a.getState().browser)}},{key:"setupDOM",value:function(){$.gsap.set(this.$title,{y:30})}},{key:"initTL",value:function(){this.TL.showTitle=new $.gsap.timeline({paused:!0}),this.TL.showTitle.to(this.$title,1,{y:0,ease:Power3.easeOut},.2),v()(c()(a.prototype),"initTL",this).call(this)}},{key:"addEvents",value:function(){var e=this;this.handlers.onMouseMove=function(t){e.mouse.x=I.a.x,e.mouse.y=I.a.y},this.$photosContainer.addEventListener("mousemove",this.handlers.onMouseMove)}},{key:"onDOMInit",value:function(){var e=this,t=[];this.isTouch||(this.cursor=new S.a({el:this.el.querySelector(".cursor"),detailCursor:!0}),this.cursor.set(I.a.x,I.a.y),t.push(this.cursor.init()),this.overviewPanel=new H({el:document.querySelector(".overview-container"),images:this.data.photos1,title:this.data.collection_title[0].text,onItemClickedCallback:function(t){return e.onOverviewItemClicked(t)},onHideCallback:function(){return e.onOverviewHide()},onHiddenCallback:function(){return e.onOverviewHidden()}}),t.push(this.overviewPanel.init()),this.next=new T({el:this.el.querySelector(".next-container"),image:this.data.next.cover,width:830,height:685,windowWidth:window.innerWidth,windowHeight:window.innerHeight}),t.push(this.next.init())),Promise.all(t).then(function(){e.$nextCanvas=e.el.querySelector(".next-canvas-wrapper canvas"),e.isTouch&&(e.$nextCanvas=e.el.querySelector(".next-canvas-wrapper img")),e.update()}),v()(c()(a.prototype),"onDOMInit",this).call(this)}},{key:"showComponent",value:function(){var t=k.a.getState().app.animationType;this.TL.showTitle.play(),"homepageToDetail"===t||"detailToDetail"===t||v()(c()(a.prototype),"showComponent",this).call(this)}},{key:"hideComponent",value:function(){var t=this;"detailToDetail"===k.a.getState().app.animationType?(this.pauseForDetailToDetailAnimation(),this.hideAnimation=$.gsap.to(this.$nextTitle,{opacity:0,duration:.6,ease:$.Cubic.easeIn,onComplete:function(){return t.onHidden()}})):v()(c()(a.prototype),"hideComponent",this).call(this)}},{key:"onShown",value:function(){var t=k.a.getState().app.animationType;if(this.setState({cursorActive:!0}),this.initScroll(),this.showOverview(),"detailToDetail"===t)for(var e=1;e<this.$photoWrapper.length;e++){var i=this.$photoWrapper[e];i.classList.add("photo-wrapper--in-completed"),i.style.opacity=1}this.$nextEl.style.visibility="visible";var s=m()(this.$images);this.isTouch&&s.push(this.$nextImage);for(var n=[],o=0;o<3;o++)0<s.length&&n.push(s.shift());!function e(t){var i=(0<arguments.length&&void 0!==t?t:null)||[s.shift()];Object(O.a)(i,function(t){t.parentNode.classList.add("is-loaded"),0<s.length&&e()})}(n),v()(c()(a.prototype),"onShown",this).call(this)}},{key:"onOverviewButtonClicked",value:function(){this.setState({overviewActive:!0,nextActive:!1,cursorActive:!1}),this.overviewPanel&&this.overviewPanel.show(),this.scroll&&this.scroll.disable()}},{key:"onPhotoWrapperClicked",value:function(t){if(this.scroll&&!event.target.href){var e=this.currentIndex+1,i=e*this.windowHeight+e*Y;e===this.$photoWrapper.length&&(i=this.getScrollElementHeight()),this.scroll.scrollTo(i)}}},{key:"onOverviewHide",value:function(){this.setState({cursorActive:!0})}},{key:"onOverviewHidden",value:function(){this.scroll&&this.scroll.enable(),this.setState({overviewActive:!1,nextActive:!0})}},{key:"onOverviewItemClicked",value:function(t){this.scroll&&this.scroll.scrollTo(t*this.windowHeight+t*Y)}},{key:"loadClickedItem",value:function(e,i){var t=m()(this.$images).filter(function(t){return t.dataset.src===e.imageUrl});Object(O.a)(t,function(t){t.parentNode.classList.add("is-loaded","is-loaded--first"),i()})}},{key:"loadFirstItem",value:function(e){var t=[this.$images[0]];Object(O.a)(t,function(t){t.parentNode.classList.add("is-loaded","is-loaded--first"),e()})}},{key:"setupHomepageToDetail",value:function(t,e){for(var i=this,s=e,n=0,o=0;o<this.$photos.length;o++){var a=this.$photos[o].offsetHeight;n<a&&(n=a)}var h=s/n;this.el.style.visibility="visible",$.gsap.to(this.el,{opacity:1,duration:.2}),this.$photosContainer.style.transform="scale(".concat(h,",").concat(h,")"),this.showAnimation=$.gsap.to(this.$photosContainer,{scale:1,duration:1.2,ease:$.Cubic.easeInOut,onComplete:function(){return i.onShown()}})}},{key:"setupDetailToDetail",value:function(t){var e=this,i=t/this.$photos[0].offsetHeight;this.isTouch&&(i=.5),this.el.style.visibility="visible",$.gsap.to(this.el,{opacity:1,duration:.2});for(var s=1;s<this.$photoWrapper.length;s++){this.$photoWrapper[s].style.opacity=0}this.$photosContainer.style.transform="scale(".concat(i,",").concat(i,")"),this.showAnimation=$.gsap.to(this.$photosContainer,{scale:1,delay:.1,duration:1,ease:$.Cubic.easeInOut,onComplete:function(){return e.onShown()}})}},{key:"initScroll",value:function(){this.scroll=new C.a({dom:this.el,scrollOptions:{wheelDeltaMultiplier:.5,useVirtualScroll:!0,smoothContainer:!1}}),this.scroll.addElements(this.getPhotosScrollElement()),this.scroll.addElements(this.getPhotosScrollElementTrigger()),this.scroll.resize(this.getScrollElementHeight()),this.scroll.start()}},{key:"getPhotosScrollElement",value:function(){var e=this,s=[],n=0,o=this.windowHeight;m()(this.$photos).forEach(function(t,e){var i={el:t,parallax:[{start:n,end:n+o,properties:[["translateY",0,-o]],viewFactorStart:0,viewFactorEnd:0}]};n+=o+Y,s.push(i)});var t=n-o/2-Y,i={el:this.$nextTitle,parallax:[{start:t,end:300+t,properties:[["translateY",160,0]],viewFactorStart:0,viewFactorEnd:0}]},a=o/2+342.5,h={el:this.$nextCanvas,parallax:[{start:t,end:t+a,properties:[["translateY",a,0]],viewFactorStart:0,viewFactorEnd:0}]},r={trigger:{start:t,end:t+a,viewFactorStart:0,viewFactorEnd:0,callback:function(t){0===t?(e.setState({nextActive:!0}),e.setState({cursorActive:!1},function(){return e.hideCursor()})):-1===t&&(e.setState({nextActive:!1},function(){return e.showCursor()}),e.setState({cursorActive:!0}))}}};return s.push(i),s.push(h),s.push(r),s}},{key:"getPhotosScrollElementTrigger",value:function(){var n=this,o=[],a=0;return this.photosItem.forEach(function(e,i){var t=n.windowHeight,s={trigger:{start:a-Y-50-100,end:a+t-Y-100,viewFactorStart:0,viewFactorEnd:0,callback:function(t){0===t?(e.$video&&(e.$photo.classList.add("video-playing"),e.$video.play()),n.cursor&&(n.currentIndex=i),n.$cursorNumber.textContent=i+1):e.$video&&e.$video.pause()}}};a+=t+Y,o.push(s)}),o}},{key:"getScrollElementHeight",value:function(){var i=this,s=this.windowHeight+1*-Y;return m()(this.$photos).forEach(function(t){var e=i.windowHeight;s+=e+Y}),s+=1e3}},{key:"getNextItemHeight",value:function(){return this.next?this.next.getItemHeight():0}},{key:"showCursor",value:function(){this.$title.style.opacity=1,this.$cursorEl.style.opacity=1,this.$photosContainer.style.cursor="none"}},{key:"showOverview",value:function(){this.$overviewContainer.style.opacity=1,this.$overviewContainer.style.visibility="visible"}},{key:"hideCursor",value:function(){this.$title.style.opacity=0,this.$cursorEl.style.opacity=0,this.$photosContainer.style.cursor="auto"}},{key:"update",value:function(){var t=this;this.cursor&&this.states.cursorActive&&this.cursor.update(this.mouse.x,this.mouse.y),this.overviewPanel&&this.states.overviewActive&&this.overviewPanel.update(),this.next&&this.states.nextActive&&this.next.update(this.mouse.x,this.mouse.y),this.raf=window.requestAnimationFrame(function(){return t.update()})}},{key:"pauseForDetailToDetailAnimation",value:function(){this.setState({overviewActive:!1,nextActive:!1,cursorActive:!1}),this.scroll&&(this.scroll.scroll.isWheelDisabled=!0,$.gsap.to(this.scroll.scroll,{target:this.getScrollElementHeight(),duration:.6,ease:$.Cubic.easeInOut}))}},{key:"onResize",value:function(t){var h=this,r=t.width,l=t.height;this.windowWidth=r,this.windowHeight=l;var c=this.$photos.length;m()(this.$photos).forEach(function(t,e){var i=t.dataset.width/t.dataset.height,s=.9*l,n=t.dataset.maxWidth;(n=n&&+n)&&100<n&&(n=100),n&&n<60&&(n=60),n&&(n/=100),n=n||1,h.isTouch&&(n=1);var o,a=s*i;o=a<=r*n?s:(a=r*n)/i,t.style.width=Math.floor(a)+"px",t.querySelector("img").dataset.sizes=a/r*100+"vw",t.style.height=Math.floor(o)+"px",t.parentNode.style.zIndex=c-e}),this.next&&this.next.resize(r,l),this.overviewPanel&&this.overviewPanel.resize(r,l),this.scroll&&(this.scroll.reset([].concat(m()(this.getPhotosScrollElement()),m()(this.getPhotosScrollElementTrigger()))),this.scroll.resize(this.getScrollElementHeight()))}},{key:"isNextPage",value:function(){var t=k.a.getState().app.location,e=this.$nextEl.querySelector(".next-title a").href.split("/");return t===e[e.length-1]}},{key:"dispose",value:function(){window.cancelAnimationFrame(this.raf),this.scroll&&this.scroll.destroy(),this.overviewPanel&&this.overviewPanel.dispose(),this.showAnimation&&this.showAnimation.kill(),this.hideAnimation&&this.hideAnimation.kill(),this.$photosContainer.removeEventListener("mousemove",this.handlers.onMouseMove),v()(c()(a.prototype),"dispose",this).call(this)}}]),a}(f.a),A=function(t){function i(t){var e;return n()(this,i),(e=r()(this,c()(i).call(this,t))).ComponentClass=X,e}return p()(i,t),h()(i,[{key:"initData",value:function(){v()(c()(i.prototype),"initData",this).call(this)}}]),i}(w.a);e.default=A},v0rQ:function(t,e,i){var o=i("NVNq");t.exports=function(t){"use strict";t=t||{};var s="",e=o.$each,i=t.data,n=(t.$value,t.$index,t.image,o.$escape);return s+='<section class="page-wrapper page" id="catalogue">\n\t<div class="catalogue-container">\n\t\t<h2 class="catalogue-title">Catalogue</h2>\n\t\t<div class="images-container">\n\t\t\t',e(i.collectionsData,function(t,e){s+='\n\t\t\t<div class="image-wrapper">\n\t\t\t\t';var i=t.thumbnails;s+='\n\t\t\t\t<div class="photo-item"\n\t\t\t\t\tstyle="padding-top:',s+=n(i.dimensions.height/i.dimensions.width*100),s+="%",i.backgroundColor&&(s+="; background-color:",s+=n(i.backgroundColor)),s+='"\n\t\t\t\t\tdata-width="\n\t\t\t\t',s+=n(i.dimensions.width),s+='" data-height="',s+=n(i.dimensions.height),s+='">\n\t\t\t\t\t<img data-src="',s+=n(i.url),s+='" data-sizes="25vw" data-srcset="\n\t\t\t\t\t',s+=n(i.url),s+="?format&w=200 200w,\n\t\t\t\t\t",s+=n(i.url),s+="?format&w=300 300w,\n\t\t\t\t\t",s+=n(i.url),s+="?format&w=400 400w,\n\t\t\t\t\t",s+=n(i.url),s+="?format&w=500 500w,\n\t\t\t\t\t",s+=n(i.url),s+="?format&w=600 600w,\n\t\t\t\t\t",s+=n(i.url),s+="?format&w=700 700w,\n\t\t\t\t\t",s+=n(i.url),s+="?format&w=800 800w,\n\t\t\t\t\t",s+=n(i.url),s+="?format&w=900 900w,\n\t\t\t\t\t",s+=n(i.url),s+='?format&w=1000 1000w" alt="David William Baum Photograph Catalogue">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t'}),s+='\n\t\t</div>\n\t\t<div class="titles-container">\n\t\t\t<ul>\n\t\t\t\t',e(i.collectionsData,function(t,e){s+='\n\t\t\t\t<li><a href="',s+=n(t.url),s+='">',s+=n(t.title),s+='<span class="catalogue-item-counter">',s+=n(t.length),s+="\n\t\t\t\t\t\t\tImages</span></a></li>\n\t\t\t\t"}),s+="\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</section>"}}}]);
